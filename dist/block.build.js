!function(r){var n={};function o(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=r,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t){wp.i18n.__;var r=wp.blockEditor,l=r.InspectorControls,c=r.InnerBlocks,n=wp.data,o=n.registerStore,s=n.withSelect,i=wp.blocks.registerBlockType,u=wp.components,a=u.CheckboxControl,p=(u.PanelBody,u.TextControl),f=wp.element.createElement,d=wp.apiFetch,b=f("svg",{width:20,height:20,viewBox:"0 0 241.95 283.46"},f("path",{d:"M41.51,41.51,61.56,61.56a113.38,113.38,0,0,1,160.35,0l20-20.05A141.73,141.73,0,0,0,41.51,41.51 M41.51,41.51,61.56,61.56a113.38,113.38,0,0,0,0,160.35L41.51,242A141.73,141.73,0,0,1,41.51,41.51Z M242,242l-20-20a113.38,113.38,0,0,1-160.35,0L41.51,242A141.73,141.73,0,0,0,242,242Z",fill:"#303030"})),m={setUserRoles:function(e){return{type:"SET_USER_ROLES",userRoles:e}},receiveUserRoles:function(e){return{type:"RECEIVE_USER_ROLES",path:e}}};o("chrisf/secure-block-store",{reducer:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{userRoles:{}},t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"SET_USER_ROLES":return function(o){for(var e=1;e<arguments.length;e++){var l=null!=arguments[e]?arguments[e]:{},t=Object.keys(l);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(l).filter(function(e){return Object.getOwnPropertyDescriptor(l,e).enumerable}))),t.forEach(function(e){var t,r,n;t=o,n=l[r=e],r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n})}return o}({},e,{userRoles:t.userRoles})}return e},actions:m,selectors:{receiveUserRoles:function(e){return e.userRoles}},controls:{RECEIVE_USER_ROLES:function(e){return d({path:e.path})}},resolvers:{receiveUserRoles:regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.receiveUserRoles("/tisa/v1/user-roles/");case 2:return r=e.sent,e.abrupt("return",m.setUserRoles(r));case 4:case"end":return e.stop()}},e)})}});i("chrisf/secure-block",{title:"Secure Block",icon:b,category:"common",attributes:{allowedRoles:{default:"[]",type:"string"},redirectUrl:{default:null,type:"string"}},edit:s(function(e){return{userRoles:e("chrisf/secure-block-store").receiveUserRoles(),posts:e("core").getEntityRecords("postType","pages",{})}})(function(e){var r=e.userRoles,n=(e.className,e.attributes),o=e.setAttributes;if(!r)return"Loading...";console.log(r);var t=Object.keys(r).map(function(t){var e=-1<JSON.parse(n.allowedRoles).indexOf(t);return console.log(e),wp.element.createElement(a,{name:"allowed-roles",label:r[t],checked:e,value:t,onChange:function(e){return function(e,t,r,n){var o=JSON.parse(r);if(e)o.indexOf(t)<0&&o.push(t);else{var l=o.indexOf(t);-1<l&&o.splice(l,1)}n({allowedRoles:JSON.stringify(o)})}(e,t,n.allowedRoles,o)}})});return console.log(n.allowedRoles),[wp.element.createElement(l,null,t,wp.element.createElement(p,{label:"Redirect Links To",onChange:function(e){return o({redirectUrl:e})},value:n.redirectUrl,help:"Leave blank to disable links altogether. Link preview: http://".concat(window.location.hostname,"/").concat(n.redirectUrl)})),wp.element.createElement("section",{style:{border:"1px solid red",padding:"0 6px 12px 6px"}},wp.element.createElement("h3",{style:{color:"red",opacity:.5,padding:"0.25rem 0.5rem",position:"absolute",top:0,left:0,fontSize:"0.9rem",fontWeight:"bold"}},"SECURE BLOCK"),wp.element.createElement(c,null))]}),save:function(e){e.attributes;return wp.element.createElement("section",null,wp.element.createElement(c.Content,null))}})}]);
//# sourceMappingURL=block.build.js.map